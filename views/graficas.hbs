{{>navbar}}


<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="/public/stylesheets/style.css">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
<div class="col-lg-10 mx-auto p-4 py-md-5">
    <header class="d-flex align-items-center pb-3 mb-5 border-bottom ">
        Gráficas de datos agregados
    </header>


    <body class="d-flex flex-column min-vh-100">
        <main>

            <div class="container">
                <canvas id="myChart"></canvas>
            </div>
            <div class="container">
                <canvas id="myChartCiudad"></canvas>
            </div>
            <div class="container">
                <canvas id="myChartSexo"></canvas>
            </div>
            <div class="container">
                <canvas id="myChartEdades"></canvas>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <script>
                const ctx = document.getElementById('myChart');

                var emetropia = ({{ PersonasEmetropesOD }} + {{ PersonasEmetropesOI }} ) /2
                var hipermetropia = ({{ PersonasHipermetropesOD }}+{{ PersonasHipermetropesOI }}) /2
                var miopia = ({{ PersonasMiopesOD }}+{{ PersonasMiopesOI }}) /2
                console.log("Miopia" + miopia)
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Miopía', 'Astigmatismo', 'Emetropía'],
                        datasets: [{
                            label: 'Número de personas',
                            data: [emetropia, hipermetropia, miopia],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                const ctx2 = document.getElementById('myChartCiudad');

                var emetropia = ({{ PersonasEmetropesOD }} + {{ PersonasEmetropesOI }} ) /2
                var hipermetropia = ({{ PersonasHipermetropesOD }}+{{ PersonasHipermetropesOI }}) /2
                var miopia = ({{ PersonasMiopesOD }}+{{ PersonasMiopesOI }}) /2
                console.log("Miopia" + miopia)
                new Chart(ctx2, {
                    type: 'doughnut',
                    data: {
                        labels: ['Miopía', 'Astigmatismo', 'Emetropía'],
                        datasets: [{
                            label: 'Número de personas',
                            data: [emetropia, hipermetropia, miopia],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                const ctx3 = document.getElementById('myChartSexo');

                var emetropia = ({{ PersonasEmetropesOD }} + {{ PersonasEmetropesOI }} ) /2
                var hipermetropia = ({{ PersonasHipermetropesOD }}+{{ PersonasHipermetropesOI }}) /2
                var miopia = ({{ PersonasMiopesOD }}+{{ PersonasMiopesOI }}) /2
                console.log("Miopia" + miopia)
                new Chart(ctx3, {
                    type: 'doughnut',
                    data: {
                        labels: ['Miopía', 'Astigmatismo', 'Emetropía'],
                        datasets: [{
                            label: 'Número de personas',
                            data: [emetropia, hipermetropia, miopia],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                const ctx4 = document.getElementById('myChartEdades');

                var emetropia = ({{ PersonasEmetropesOD }} + {{ PersonasEmetropesOI }} ) /2
                var hipermetropia = ({{ PersonasHipermetropesOD }}+{{ PersonasHipermetropesOI }}) /2
                var miopia = ({{ PersonasMiopesOD }}+{{ PersonasMiopesOI }}) /2
                console.log("Miopia" + miopia)
                new Chart(ctx4, {
                    type: 'bar',
                    data: {
                        labels: ['Miopía', 'Astigmatismo', 'Emetropía'],
                        datasets: [{
                            label: 'Número de personas',
                            data: [emetropia, hipermetropia, miopia],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
            <br>
            <button class="btn btn-primary" onclick="printPage()">Imprimir datos</button>

        </main>


    </body>


</div>
<script>
    function printPage() {
        window.print();
    }
</script>




{{>footer}}